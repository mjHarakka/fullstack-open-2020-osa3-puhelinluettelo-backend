(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),u=n(13),r=n.n(u),o=n(2),c=function(e){return l.a.createElement("form",{onSubmit:e.addPerson},l.a.createElement("div",null,l.a.createElement("h2",null,"Add a new"),l.a.createElement("div",null,"name:",l.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),l.a.createElement("div",null,"number:",l.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),l.a.createElement("button",{type:"submit"},"add")))},i=function(e){return l.a.createElement("input",{value:e.filterValue,onChange:e.handleFiltering})},m=n(3),s=n.n(m),f="http://localhost:3001/persons",d=function(){return s.a.get(f).then((function(e){return e.data}))},h=function(e){return s.a.post(f,e).then((function(e){return e.data}))},b=function(e){return s.a.delete("http://localhost:3001/persons/".concat(e)).then((function(e){return console.log(e)}))},p=function(e){return l.a.createElement("li",null,e.person.name," ",e.person.number,l.a.createElement("form",{onSubmit:e.handleDelete},l.a.createElement("button",{type:"submit"},"delete")))},E=(n(36),function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"success"},t)}),g=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=(t[0],t[1],Object(a.useState)("")),u=Object(o.a)(n,2),r=u[0],m=u[1],s=Object(a.useState)(""),f=Object(o.a)(s,2),g=f[0],v=f[1],w=Object(a.useState)(""),j=Object(o.a)(w,2),O=j[0],N=j[1],C=Object(a.useState)([]),S=Object(o.a)(C,2),D=S[0],y=S[1],k=Object(a.useState)(null),P=Object(o.a)(k,2),A=P[0],F=P[1];Object(a.useEffect)((function(){d().then((function(e){y(e)}))}),[]);var J=function(e){console.log("works"),window.confirm("Do you want to delete person?")&&(console.log("deleted item"),b(e))};Object(a.useEffect)((function(){y(D.filter((function(e){return e.name.toLowerCase()===O.toLowerCase})))}),[]);return l.a.createElement("div",null,l.a.createElement("h2",null,"Phonebook"),l.a.createElement(E,{message:A}),"filter shown with",l.a.createElement(i,{filterValue:O,handleFiltering:function(e){e.preventDefault(),N(e.target.value)}}),l.a.createElement(c,{newName:r,handleNameChange:function(e){e.preventDefault(),m(e.target.value),console.log(e.target.value)},newNumber:g,handleNumberChange:function(e){e.preventDefault(),v(e.target.value),console.log(e.target.value)},addPerson:function(e){e.preventDefault(),h({name:r,number:g}).then((function(e){m(""),v("")})).then(d().then((function(e){y(e)}))),F("Added ".concat(r," succesfully")),setTimeout((function(){F(null)}),5e3)}}),l.a.createElement("h2",null,"Numbers"),l.a.createElement("ul",null,D.map((function(e){return l.a.createElement(p,{key:e.id,person:e,handleDelete:J.bind(void 0,e.id)})}))))};r.a.render(l.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.2fd999e9.chunk.js.map